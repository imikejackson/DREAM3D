parameters:
  cmake: 'cmake'
  ctest: 'ctest'
  DREAM3D_SDK: ''
  generator: ''

steps:
- script: |
    echo ${{ parameters.cmake }}
    ${{ parameters.cmake }} -G "${{ parameters.generator }}" -DDREAM3D_SDK=${{ parameters.DREAM3D_SDK }} -DCMAKE_BUILD_TYPE=Release $(Build.Repository.LocalPath)
  displayName: 'CMake: configure'
# - script: |
#     cd $(Build.BinariesDirectory)
#     $(cmake) --build .
#   displayName: 'Build DREAM3D....'
- script: |
    cd $(Build.BinariesDirectory)
    ${{ parameters.ctest }} -D Experimental
  displayName: 'CMake: ctest'